<%- include('../partials/header') %>

<div class="profile-container">
  <h2>Your Profile</h2>

  <% if (events.length === 0) { %>
    <p>You haven't created any events yet.</p>
  <% } else { %>
    <h3>Your Hosted Events:</h3>

    <div class="event-grid">
      <% events.forEach(event => { %>
        <div class="event-card">
          <h4><a href="/events/<%= event._id %>"><%= event.title %></a></h4>
          <p class="category"><%= event.category %></p>

          <div class="event-meta">
            <p><strong>Location:</strong> <%= event.location %></p>
            <p><strong>Start:</strong> <%= event.start.toLocaleString() %></p>
            <p><strong>End:</strong> <%= event.end.toLocaleString() %></p>
          </div>

          <div class="actions">
            <a href="/events/edit/<%= event._id %>" class="btn-edit">Edit</a>

                <form action="/events/delete/<%= event._id %>?_method=DELETE" method="POST" style="display:inline;">
                <button type="submit" class="btn-delete">Delete</button>
                </form>

          </div>
        </div>
      <% }) %>
    </div>
  <% } %>
</div>

<style>
  .profile-container {
    max-width: 1000px;
    margin: 40px auto;
    padding: 0 20px;
  }

  .event-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 20px;
    margin-top: 20px;
  }

  .event-card {
    background: #fff;
    border-radius: 10px;
    padding: 20px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    transition: 0.2s ease;
  }

  .event-card:hover {
    transform: scale(1.01);
  }

  .event-card h4 {
    margin-top: 0;
    color: #0a5;
  }

  .event-card .category {
    background: #eee;
    display: inline-block;
    padding: 4px 10px;
    border-radius: 20px;
    font-size: 0.85em;
    color: #333;
    margin: 10px 0;
  }

  .event-meta {
    font-size: 0.9em;
    color: #555;
    margin-top: 10px;
  }

  .actions {
    margin-top: 15px;
  }

  .btn-edit,
  .btn-delete {
    padding: 6px 12px;
    font-size: 0.85em;
    border: none;
    border-radius: 4px;
    cursor: pointer;
  }

  .btn-edit {
    background-color: #007bff;
    color: white;
    text-decoration: none;
    margin-right: 10px;
  }

  .btn-delete {
    background-color: #dc3545;
    color: white;
  }

  .btn-edit:hover {
    background-color: #0056b3;
  }

  .btn-delete:hover {
    background-color: #c82333;
  }
</style>

<%- include('../partials/footer') %>
