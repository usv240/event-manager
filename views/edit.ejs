<%- include('partials/header') %>

<main class="new-event-container"> 
    <div class="form-wrapper">
        <h1 class="form-title">Edit Event</h1>
        <form action="/events/edit/<%= event._id %>?_method=PUT" method="POST" enctype="multipart/form-data">

            
            <div class="form-group">
                <label for="category">Category:</label>
                <select id="category" name="category" required>
                    <% categories.forEach(cat => { %>
                        <option value="<%= cat %>" <%= event.category === cat ? "selected" : "" %>><%= cat %></option>
                    <% }); %>
                </select>
            </div>

            <div class="form-group">
                <label for="title">Event Title:</label>
                <input type="text" id="title" name="title" value="<%= event.title %>" required>
            </div>

            <div class="form-group">
                <label for="details">Event Details:</label>
                <textarea id="details" name="details" required><%= event.details %></textarea>
            </div>

            <div class="form-group">
                <label for="location">Location:</label>
                <input type="text" id="location" name="location" value="<%= event.location %>" required>
            </div>

            <div class="form-group">
                <label for="start">Start Date & Time:</label>
                <input type="datetime-local" id="start" name="start" 
                    value="<%= new Date(event.start).toISOString().slice(0,16) %>" required>
            </div>

            <div class="form-group">
                <label for="end">End Date & Time:</label>
                <input type="datetime-local" id="end" name="end" 
                    value="<%= new Date(event.end).toISOString().slice(0,16) %>" required>
            </div>

            <div class="form-group">
                <label for="image">Upload New Event Image:</label>
                <input type="file" id="image" name="image" accept="image/*">
            </div>

            <button type="submit" class="btn-create">Update Event</button>
        </form>
    </div>
</main>

<%- include('partials/footer') %>
